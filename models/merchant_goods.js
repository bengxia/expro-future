var mysql = require('../libs/mysql.js');function create() {    return new Merchant_goods();};function Merchant_goods() {    this.table = 'ef_merchant_goods';};Merchant_goods.prototype.findOne = function(opt, cb) {    options = {schema:this.table, querys:opt};    mysql.findOne(options, cb);};/** * 查询所有的数据 * @param opt 参数，包含：opt.where， opt.sidx， opt.sord， opt.start ， opt.limit; * @param cb 回调 */Merchant_goods.prototype.findAll = function(opt, cb) {    var sql = " SELECT * FROM ef_merchant_goods  "        +" where 1=1 "+ opt.where;    mysql.query(sql, function(err, rs) {        if(err) return cb(err);        if(!rs.length) return cb(err);        cb(err, rs);    });};/** * 根据条件获得数据的行数 * @param where 页面传入的查询条件 * @param cb 回调 */Merchant_goods.prototype.count = function(opt, cb) {    var sql = "SELECT COUNT(*) AS count FROM ef_merchant_goods where 1=1 "        +opt.where;    mysql.query(sql, function(err, rs) {        if(err) return cb(err);        if(!rs.length) return cb(err);        cb(err, rs[0]);    });};Merchant_goods.prototype.create = function(body, cb) {    var opt = {        table: 'ef_merchant_goods',        fields: body    };    mysql.insert(opt, function(err, info) {        if(err) return cb(err);        return cb(err, info);    });};exports = module.exports = create;