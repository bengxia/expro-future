//mocha test/deal.js var session = require('./session.lib.js');function signin(data, ct) {    return session.postData('/signin', data, '', ct);}function getGoodsList(sid, done) {    session.getData('/goods', sid)        .end(function(res) {            res.statusCode.should.equal(200);            res.should.be.json;            console.log(JSON.stringify(res.body));            done();        });};function findOne(id, sid, done) {    return session.getData('/goods/'+id, sid).end(function(res) {        res.statusCode.should.equal(200);        res.should.be.json;        res.body.should.have.property('goods');        console.log(JSON.stringify(res.body));        done();    });}describe('#查询当前商户所有的商品', function() {    describe('#Show Goods List', function() {        it('should succes show goods dataList and return json', function(done) {            signin({                cellphone:'18912345678',                password:'123456',                org:'1'            })            .end(function(res) {                res.statusCode.should.equal(200);                res.body.should.have.property('name');                var sid = session.getSID(res);                    getGoodsList(sid, done);            })        })    })});describe('#查询一个商品。', function() {    describe('开始查询', function() {        it('开始测试：查询一个商品.', function(done) {            signin({                cellphone:'18912345678',                password:'123456',                org:'1'            })                .end(function(res) {                    res.statusCode.should.equal(200);                    res.body.should.have.property('name');                    var sid = session.getSID(res);                    findOne(1, sid, done);                })        })    })});