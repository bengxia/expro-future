//mocha test/deal.js var session = require('./session.lib.js');function signin(data, ct) {    return session.postData('/signin', data, '', ct);}function getWarehouseWarrantList(sid, done) {    session.getData('/warehouse_warrant', sid)        .end(function(res) {            res.statusCode.should.equal(200);            res.should.be.json;            console.log(JSON.stringify(res.body));            done();        });}function findWarehouseWarrant(sid, done) {    session.getData('/warehouse_warrant/27', sid)        .end(function(res) {            res.statusCode.should.equal(200);            res.should.be.json;            console.log(JSON.stringify(res.body));            done();        });}describe('#GetWarehouseWarrantList', function() {    describe('#sign in : POST /signin', function() {        it('should succes sign in and return json', function(done) {            signin({                cellphone:'18912345678',                password:'123456',                org:'1'            })            .end(function(res) {                res.statusCode.should.equal(200);                res.body.should.have.property('name');                var sid = session.getSID(res);                getWarehouseWarrantList(sid, done);            })        })    })})describe('#FindWarehouseWarrant', function() {    describe('#sign in : POST /signin', function() {        it('should succes sign in and return json', function(done) {            signin({                cellphone:'18912345678',                password:'123456',                org:'1'            })            .end(function(res) {                res.statusCode.should.equal(200);                res.body.should.have.property('name');                var sid = session.getSID(res);                findWarehouseWarrant(sid, done);            })        })    })})